#! /bin/bash

. error_handling_module.sh

echo
echo $sectionBreak
echo "     Ethical Hacking Module (Pentbox-1.8 Implementation)"
echo $sectionBreak
echo
echo "This module will create a honeypot on your local machine using pentbox-1.8."
echo 
echo -n "Please enter the port that you want the honeypot to serve on: "
read port

# Check for empty port
empty_check $port

echo
echo $sectionBreak
echo 
echo -n "Please enter the message that you want the honeypot to display: "
read message

# Check for unentered message
empty_check $message
 
echo 
echo $sectionBreak
echo 
echo "Creating Honeypot and Opening Browser..... "
sleep 2
echo

# Pass parameters to interactive pentbox script in order to start the tool's honey pot generator 
# The below script will need to be terminated outside of this shell script. 
printf "2\n3\n2\n$port\n$message\nN\nN" | ./pentbox-1.8/pentbox.rb &
sleep 2

firefox &
#Open the browser and access the honeypot in a new tab
firefox --new-tab localhost:$port & 
